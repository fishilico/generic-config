Configuration tweaks on a Raspberry Pi
--------------------------------------

Install Raspberry Pi
====================

Download Raspbian image from http://www.raspberrypi.org/downloads.

Each time the SD card is mounted and files modified, /etc/fake-hwtime needs to
be updated with current date and time, in YYYY-MM-DD HH:MM:SS format. Otherwise
the system may experience some issues.

You may run the system on the SD card in QEMU if you don't have an HDMI screen.
http://xecdesign.com/qemu-emulating-raspberry-pi-the-easy-way/ describes how to
achieve that, by downloading a special kernel of qemu-arm and running:

    qemu-system-arm -kernel kernel-qemu -cpu arm1176 -m 256 -M versatilepb \
        -no-reboot -serial stdio -append "root=/dev/sda2 panic=1" -hda /dev/sdb


Post-install configuration
==========================

Like all Debian systems, some files needs updating:
o   /etc/mailname (with the name to be used in mailing)
o   /etc/sudoers (remove "pi ALL=(ALL) NOPASSWD: ALL")
o   /etc/ntp.conf (remove "restrict ::1" if IPv6 module is not loaded)
o   Reconfigure the keyboard: keyboard-configuration
o   Change timezone: "tzselect" (TZ='Europe/Paris'; export TZ)

Moreover, /etc/sysctl.conf contains Raspberry Pi-specific configuration:
    # rpi tweaks
    vm.swappiness=1
    vm.min_free_kbytes = 8192


Networking
==========

etc/network/interfaces:
    auto lo
    # Add contents:
    allow-hotplug eth0

    iface lo inet loopback
    iface eth0 inet dhcp

    allow-hotplug wlan0
    iface wlan0 inet manual
    wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
    iface default inet dhcp

    OR (static):
    iface eth0 inet static
        address 192.168.2.2
        netmask 255.255.255.0
        gateway 192.168.2.1


Enable IPv6
===========

To enable IPv6, use following commands:
    modprobe ipv6
    echo 2 > /proc/sys/net/ipv6/conf/default/use_tempaddr
    echo 2 > /proc/sys/net/ipv6/conf/all/use_tempaddr

To make these changes persistents, add "ipv6" to /etc/modules and
"net.ipv6.conf.default.use_tempaddr = 2" to /etc/sysctl.conf.
