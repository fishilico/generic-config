
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>systemd configuration &#8212; Generic Config</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use tmpfs for some directories" href="tmpfs.html" />
    <link rel="prev" title="Sound Configuration" href="sound.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tmpfs.html" title="Use tmpfs for some directories"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sound.html" title="Sound Configuration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Generic Config</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Some notes and tips&amp;tricks about system administration</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="systemd-configuration">
<h1>systemd configuration<a class="headerlink" href="#systemd-configuration" title="Permalink to this headline">¶</a></h1>
<p>Even if systemd works well with the default configuration, it needs to be
configured on some system so that logs don’t fill the disk, …</p>
<div class="section" id="logging-syslog-and-journald">
<h2>Logging: syslog and journald<a class="headerlink" href="#logging-syslog-and-journald" title="Permalink to this headline">¶</a></h2>
<p>On most of my systems I’m using syslog-ng to manage my log files. This
interfaces quite well with journald as the only thing you need to do to make it
work is to use these sources in <code class="docutils literal notranslate"><span class="pre">/etc/syslog-ng/syslog-ng.conf</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">src</span> <span class="p">{</span>
  <span class="n">unix</span><span class="o">-</span><span class="n">dgram</span><span class="p">(</span><span class="s2">&quot;/run/systemd/journal/syslog&quot;</span><span class="p">);</span>
  <span class="n">internal</span><span class="p">();</span>
  <span class="n">file</span><span class="p">(</span><span class="s2">&quot;/proc/kmsg&quot;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Once this is done, you no longer need persistent storage to /var/log/journal.
Instead of deleting this directory or making it a tmpfs, the right way to
disable persistent storage is to set this into <code class="docutils literal notranslate"><span class="pre">/etc/systemd/journald.conf</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Storage</span><span class="o">=</span><span class="n">volatile</span>
<span class="n">ForwardToSyslog</span><span class="o">=</span><span class="n">yes</span>
<span class="n">ForwardToKMsg</span><span class="o">=</span><span class="n">no</span>
<span class="n">ForwardToConsole</span><span class="o">=</span><span class="n">no</span>
</pre></div>
</div>
<p>More information can be found in the man page:
<a class="reference external" href="http://www.freedesktop.org/software/systemd/man/journald.conf.html">http://www.freedesktop.org/software/systemd/man/journald.conf.html</a></p>
<p>If you use persistent storage, you may want to rotate logs every 3 months for
example. This option in <code class="docutils literal notranslate"><span class="pre">/etc/systemd/journald.conf</span></code> tells journald to do
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MaxRetentionSec</span><span class="o">=</span><span class="mi">3</span><span class="n">month</span>
</pre></div>
</div>
</div>
<div class="section" id="logging-audit-logs-and-journald">
<h2>Logging: audit logs and journald<a class="headerlink" href="#logging-audit-logs-and-journald" title="Permalink to this headline">¶</a></h2>
<p>journald can listen to the audit socket for events. Even if that could be
useful without <code class="docutils literal notranslate"><span class="pre">auditd</span></code> service, it can spam the logs when using software
such as Chrome (<a class="reference external" href="https://bugs.chromium.org/p/chromium/issues/detail?id=456535">https://bugs.chromium.org/p/chromium/issues/detail?id=456535</a>
has been opened for more than a year) and it does not honour auditctl
configuration such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auditctl</span> <span class="o">-</span><span class="n">a</span> <span class="n">never</span><span class="p">,</span><span class="n">exit</span> <span class="o">-</span><span class="n">F</span> <span class="n">arch</span><span class="o">=</span><span class="n">b64</span> <span class="o">-</span><span class="n">S</span> <span class="n">set_robust_list</span> <span class="o">-</span><span class="n">F</span> <span class="n">path</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chromium</span><span class="o">/</span><span class="n">chromium</span> <span class="o">-</span><span class="n">F</span> <span class="n">key</span><span class="o">=</span><span class="n">bug456535</span>
</pre></div>
</div>
<p>(This line without <code class="docutils literal notranslate"><span class="pre">auditctl</span></code> can be put in
<code class="docutils literal notranslate"><span class="pre">/etc/audit/rules.d/chromium.rules</span></code> so that <code class="docutils literal notranslate"><span class="pre">augenrules</span> <span class="pre">--load</span></code> loads this
at every boot).</p>
<p>To disable this journald feature, the easier way consists in masking the audit
socket (cf. <a class="reference external" href="https://github.com/systemd/systemd/issues/959#issuecomment-174541674">https://github.com/systemd/systemd/issues/959#issuecomment-174541674</a>):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>systemctl mask systemd-journald-audit.socket
</pre></div>
</div>
</div>
<div class="section" id="write-journal-on-tty">
<h2>Write journal on tty<a class="headerlink" href="#write-journal-on-tty" title="Permalink to this headline">¶</a></h2>
<p>On a workstation, it can be quite convenient to read the journal directly from
ttys above 7 (tty1-6 being consoles and tty7 the X Window session, for example).</p>
<p>With syslog-ng, the configuration is quite straightforward:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">src</span> <span class="p">{</span> <span class="n">system</span><span class="p">();</span> <span class="p">};</span>
<span class="n">destination</span> <span class="n">d_tty9</span> <span class="p">{</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;/dev/tty9&quot;</span> <span class="n">owner</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">group</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">perm</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span> <span class="p">};</span>
<span class="n">destination</span> <span class="n">d_tty10</span> <span class="p">{</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;/dev/tty10&quot;</span> <span class="n">owner</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">group</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">perm</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span> <span class="p">};</span>
<span class="n">destination</span> <span class="n">d_tty11</span> <span class="p">{</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;/dev/tty11&quot;</span> <span class="n">owner</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">group</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">perm</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span> <span class="p">};</span>
<span class="n">destination</span> <span class="n">console_all</span> <span class="p">{</span> <span class="n">file</span><span class="p">(</span><span class="s2">&quot;/dev/tty12&quot;</span> <span class="n">owner</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">group</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">perm</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span> <span class="p">};</span>
<span class="nb">filter</span> <span class="n">f_authpriv</span> <span class="p">{</span> <span class="n">facility</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">authpriv</span><span class="p">);</span> <span class="p">};</span>
<span class="nb">filter</span> <span class="n">f_daemon</span> <span class="p">{</span> <span class="n">facility</span><span class="p">(</span><span class="n">daemon</span><span class="p">);</span> <span class="p">};</span>
<span class="nb">filter</span> <span class="n">f_kernel</span> <span class="p">{</span> <span class="n">facility</span><span class="p">(</span><span class="n">kern</span><span class="p">);</span> <span class="p">};</span>
<span class="n">log</span> <span class="p">{</span> <span class="n">source</span><span class="p">(</span><span class="n">src</span><span class="p">);</span> <span class="nb">filter</span><span class="p">(</span><span class="n">f_authpriv</span><span class="p">);</span> <span class="n">destination</span><span class="p">(</span><span class="n">d_tty9</span><span class="p">);</span> <span class="p">};</span>
<span class="n">log</span> <span class="p">{</span> <span class="n">source</span><span class="p">(</span><span class="n">src</span><span class="p">);</span> <span class="nb">filter</span><span class="p">(</span><span class="n">f_daemon</span><span class="p">);</span> <span class="n">destination</span><span class="p">(</span><span class="n">d_tty10</span><span class="p">);</span> <span class="p">};</span>
<span class="n">log</span> <span class="p">{</span> <span class="n">source</span><span class="p">(</span><span class="n">src</span><span class="p">);</span> <span class="nb">filter</span><span class="p">(</span><span class="n">f_kernel</span><span class="p">);</span> <span class="n">destination</span><span class="p">(</span><span class="n">d_tty11</span><span class="p">);</span> <span class="p">};</span>
<span class="n">log</span> <span class="p">{</span> <span class="n">source</span><span class="p">(</span><span class="n">src</span><span class="p">);</span> <span class="n">destination</span><span class="p">(</span><span class="n">console_all</span><span class="p">);</span> <span class="p">};</span>
</pre></div>
</div>
<p>It is also possible to send emergency messages to everyone logged in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">s_src</span> <span class="p">{</span>
    <span class="n">system</span><span class="p">();</span>
    <span class="n">internal</span><span class="p">();</span>
<span class="p">};</span>
<span class="n">destination</span> <span class="n">du_all</span> <span class="p">{</span> <span class="n">usertty</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">);</span> <span class="p">};</span>
<span class="nb">filter</span> <span class="n">f_emerg</span> <span class="p">{</span> <span class="n">level</span><span class="p">(</span><span class="n">emerg</span><span class="p">);</span> <span class="p">};</span>
<span class="n">log</span> <span class="p">{</span> <span class="n">source</span><span class="p">(</span><span class="n">s_src</span><span class="p">);</span> <span class="nb">filter</span><span class="p">(</span><span class="n">f_emerg</span><span class="p">);</span> <span class="n">destination</span><span class="p">(</span><span class="n">du_all</span><span class="p">);</span> <span class="p">};</span>
</pre></div>
</div>
<p>With journald, the only “natively” available feature is logging to a tty, with
something like this in <code class="docutils literal notranslate"><span class="pre">/etc/systemd/journald.conf</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ForwardToConsole</span><span class="o">=</span><span class="n">yes</span>
<span class="n">TTYPath</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">tty12</span>
<span class="n">MaxLevelConsole</span><span class="o">=</span><span class="n">info</span>
</pre></div>
</div>
<p>The other filters can be implemented with services.  Here are some files.</p>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/journal&#64;.service</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Show</span> <span class="n">journal</span> <span class="n">on</span> <span class="o">%</span><span class="n">I</span>
<span class="n">After</span><span class="o">=</span><span class="n">systemd</span><span class="o">-</span><span class="n">journald</span><span class="o">.</span><span class="n">service</span>
<span class="n">ConditionPathExists</span><span class="o">=/</span><span class="n">dev</span><span class="o">/%</span><span class="n">I</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="n">Type</span><span class="o">=</span><span class="n">idle</span>
<span class="n">StandardOutput</span><span class="o">=</span><span class="n">tty</span>
<span class="n">TTYPath</span><span class="o">=/</span><span class="n">dev</span><span class="o">/%</span><span class="n">I</span>
<span class="n">TTYReset</span><span class="o">=</span><span class="n">yes</span>
<span class="n">TTYVHangup</span><span class="o">=</span><span class="n">yes</span>

<span class="p">[</span><span class="n">Install</span><span class="p">]</span>
<span class="n">WantedBy</span><span class="o">=</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/journal&#64;tty9.service</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">include</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">journal</span><span class="o">@.</span><span class="n">service</span>

<span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Show</span> <span class="n">journal</span> <span class="n">on</span> <span class="o">%</span><span class="n">I</span> <span class="p">(</span><span class="n">auth</span><span class="p">)</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="c1"># Facilities: 4 = LOG_AUTH, 10 = LOG_AUTHPRIV</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">journalctl</span> <span class="o">-</span><span class="n">b</span> <span class="o">-</span><span class="n">n50</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">4</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/journal&#64;tty10.service</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">include</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">journal</span><span class="o">@.</span><span class="n">service</span>

<span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Show</span> <span class="n">journal</span> <span class="n">on</span> <span class="o">%</span><span class="n">I</span> <span class="p">(</span><span class="n">daemon</span><span class="p">)</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="c1"># Facility codes:</span>
<span class="c1">#   2 = LOG_MAIL</span>
<span class="c1">#   3 = LOG_DAEMON</span>
<span class="c1">#   5 = LOG_SYSLOG</span>
<span class="c1">#   6 = LOG_LPR</span>
<span class="c1">#   7 = LOG_NEWS</span>
<span class="c1">#   8 = LOG_UUCP</span>
<span class="c1">#   9 = LOG_CRON</span>
<span class="c1">#  11 = LOG_FTP</span>
<span class="c1">#</span>
<span class="c1"># Not selected:</span>
<span class="c1">#   0 = LOG_KERN</span>
<span class="c1">#   1 = LOG_USER</span>
<span class="c1">#   4 = LOG_AUTH</span>
<span class="c1">#  10 = LOG_AUTHPRIV</span>
<span class="c1">#  16..23 = LOG_LOCAL0..7</span>
<span class="c1">#</span>
<span class="c1"># Source: /usr/include/sys/syslog.h</span>
<span class="c1">#   in glibc: https://sourceware.org/git/?p=glibc.git;a=blob;f=misc/sys/syslog.h;hb=HEAD</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">journalctl</span> <span class="o">-</span><span class="n">b</span> <span class="o">-</span><span class="n">n50</span> \
    <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">2</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">3</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">5</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">6</span> \
    <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">7</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">8</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">9</span> <span class="n">SYSLOG_FACILITY</span><span class="o">=</span><span class="mi">11</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/journal&#64;tty11.service</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.include /etc/systemd/system/journal@.service

[Unit]
Description=Show journal on %I (kernel)

[Service]
# --dmesg implies -b and _TRANSPORT=kernel
ExecStart=/usr/bin/journalctl -b -f -n 50 --dmesg

``/etc/systemd/system/journal@tty12.service``::

.include /etc/systemd/system/journal@.service

[Unit]
Description=Show journal on %I (everything)

[Service]
ExecStart=/usr/bin/journalctl -b -f -n 50
</pre></div>
</div>
<p>With such commands, it is also possible to pipe <code class="docutils literal notranslate"><span class="pre">journalctl</span></code> output to
<code class="docutils literal notranslate"><span class="pre">ccze</span></code> (if installed) to colorize the logs.</p>
</div>
<div class="section" id="configure-timers-and-remove-cron">
<h2>Configure timers (and remove cron)<a class="headerlink" href="#configure-timers-and-remove-cron" title="Permalink to this headline">¶</a></h2>
<p>systemd doesn’t rely on a cron daemon to run periodic tasks but uses its own
system with calendar time events. ArchLinux provides on its wiki some config
files to replace common cron scripts:
<a class="reference external" href="https://wiki.archlinux.org/index.php/Systemd/cron_functionality">https://wiki.archlinux.org/index.php/Systemd/cron_functionality</a></p>
<p>Since April 2014 the timers are included and enabled by default, with timer
files in <code class="docutils literal notranslate"><span class="pre">/usr/lib/systemd/system</span></code> and symlinks in
<code class="docutils literal notranslate"><span class="pre">/usr/lib/systemd/system/multi-user.target.wants/</span></code>. To disable some timers
which do many disk writes, an overriding unit needs to be created.</p>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/disabled-timer.service</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Unit</span> <span class="n">to</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">disable</span> <span class="n">timers</span>

<span class="p">[</span><span class="n">Service</span><span class="p">]</span>
<span class="n">Type</span><span class="o">=</span><span class="n">oneshot</span>
<span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">true</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/updatedb.timer</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Disabled</span> <span class="n">locate</span> <span class="n">database</span> <span class="n">update</span>

<span class="p">[</span><span class="n">Timer</span><span class="p">]</span>
<span class="c1">#OnCalendar=daily</span>
<span class="c1">#Persistent=true</span>
<span class="c1">#OnBootSec=10min</span>
<span class="c1">#OnUnitActiveSec=1d</span>
<span class="n">OnCalendar</span><span class="o">=</span><span class="n">monthly</span>
<span class="n">Unit</span><span class="o">=</span><span class="n">disabled</span><span class="o">-</span><span class="n">timer</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
<p>Another way may consist in masking the service units, but it did not work well
back in spring 2014:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ systemctl mask updatedb
Created symlink from /etc/systemd/system/updatedb.service to /dev/null.
</pre></div>
</div>
</div>
<div class="section" id="automatically-create-a-bridge-interface">
<h2>Automatically create a bridge interface<a class="headerlink" href="#automatically-create-a-bridge-interface" title="Permalink to this headline">¶</a></h2>
<p>To automatically create a bridge interface which can be used for example to
bridge together several virtual machines, here is a systemd-networkd
configuration.</p>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/network/VMBridge.netdev</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">NetDev</span><span class="p">]</span>
<span class="n">Name</span><span class="o">=</span><span class="n">br0</span>
<span class="n">Kind</span><span class="o">=</span><span class="n">bridge</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/etc/systemd/network/br0.network</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Match</span><span class="p">]</span>
<span class="n">Name</span><span class="o">=</span><span class="n">br0</span>

<span class="p">[</span><span class="n">Network</span><span class="p">]</span>
<span class="n">IPForward</span><span class="o">=</span><span class="n">yes</span>

<span class="p">[</span><span class="n">Address</span><span class="p">]</span>
<span class="n">Address</span><span class="o">=</span><span class="mf">198.51</span><span class="o">.</span><span class="mf">100.0</span><span class="o">/</span><span class="mi">24</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">systemd configuration</a><ul>
<li><a class="reference internal" href="#logging-syslog-and-journald">Logging: syslog and journald</a></li>
<li><a class="reference internal" href="#logging-audit-logs-and-journald">Logging: audit logs and journald</a></li>
<li><a class="reference internal" href="#write-journal-on-tty">Write journal on tty</a></li>
<li><a class="reference internal" href="#configure-timers-and-remove-cron">Configure timers (and remove cron)</a></li>
<li><a class="reference internal" href="#automatically-create-a-bridge-interface">Automatically create a bridge interface</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sound.html"
                        title="previous chapter">Sound Configuration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tmpfs.html"
                        title="next chapter">Use tmpfs for some directories</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/sysadmin/systemd.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/fishilico/generic-config/blob/master/sysadmin/systemd.rst"
           rel="nofollow">Show Source on GitHub
           <img src="../_static/GitHub-Mark-32px.png" style="width: 1.5em; border: none;" alt="" />
           </a></li>
  </ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tmpfs.html" title="Use tmpfs for some directories"
             >next</a> |</li>
        <li class="right" >
          <a href="sound.html" title="Sound Configuration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Generic Config</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Some notes and tips&amp;tricks about system administration</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2019, Nicolas Iooss.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.1.
    </div>
  </body>
</html>