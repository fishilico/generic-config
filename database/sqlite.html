
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SQLite &#8212; Generic Config</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="/etc" href="../etc/index.html" />
    <link rel="prev" title="MySQL tips and tricks" href="mysql.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../etc/index.html" title="/etc"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mysql.html" title="MySQL tips and tricks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Generic Config</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Databases</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SQLite</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="sqlite">
<h1>SQLite<a class="headerlink" href="#sqlite" title="Permalink to this headline">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>SQLite is a database engine that directly uses a file, for example named <code class="docutils literal notranslate"><span class="pre">db.sqlite</span></code>.
There is therefore no need to authenticate the database users in order for them to access the data: everything is managed by the access control of the file itself.
More precisely, when modifying the database, the directory that stores the database file needs also to be writable by the engine, in order to create and remove a journal file.</p>
<p>SQLite can be used by applications to store settings, user information, messages, etc.
Its engine is also used by projects such as <a class="reference external" href="https://osquery.io/">OSQuery</a> in order to benefit from a SQL interpreter.</p>
</section>
<section id="basic-commands">
<h2>Basic commands<a class="headerlink" href="#basic-commands" title="Permalink to this headline">¶</a></h2>
<p>In order to dump the content of a database file named <code class="docutils literal notranslate"><span class="pre">db.sqlite</span></code> from the command line:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sqlite3 &lt; /dev/null -bail -batch -cmd .dump db.sqlite
</pre></div>
</div>
<p>From the interactive prompt given by <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code>, it is possible to run SQL statements as well as special SQLite commands, prefixed with a dot.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show available commands and some help</span>
.help

<span class="c1"># Show the version</span>
.version

<span class="c1"># Quit</span>
.exit

<span class="c1"># List tables from the database</span>
.tables
<span class="c1"># Dump the schema of every table of the database</span>
.schema

<span class="c1"># List tables and dump the schema, for tables which names start with &quot;user&quot;</span>
.tables user%
.schema user%

<span class="c1"># Change the output mode of SELECT statement (default one is pretty):</span>
<span class="c1"># * Each cell in a new line</span>
.mode line
<span class="c1"># * Comma-separated values</span>
.mode csv
<span class="c1"># * Fixed-wicth columns</span>
.mode column
.width <span class="m">10</span> <span class="m">20</span> <span class="m">50</span> <span class="m">50</span> <span class="m">5</span>
<span class="c1"># * Pretty tables (the default one in OSQuery)</span>
.mode pretty
<span class="c1"># * Pipe-separated values (the default one in SQLite)</span>
.mode list
</pre></div>
</div>
</section>
<section id="sql-statements">
<h2>SQL statements<a class="headerlink" href="#sql-statements" title="Permalink to this headline">¶</a></h2>
<p>SQLite supports standard SQL statements: <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">INSERT</span> <span class="pre">INTO</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, etc.</p>
<p>Several <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statements can be merged together using:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code> to concatenate the results ;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNION</span></code> to concatenate the results, removing the duplicated rows ;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INTERSECT</span></code> to only keep the rows in common ;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXCEPT</span></code> to exclude some rows.</p></li>
</ul>
<p>It is also possible to join tables (<code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code>, <code class="docutils literal notranslate"><span class="pre">INNER</span> <span class="pre">JOIN</span></code>, etc.) using conditions expressed as:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">user_groups</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">uid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user_groups</span><span class="p">.</span><span class="n">uid</span><span class="p">;</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">user_groups</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">uid</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>When performing a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement, it is possible to group some rows with a common value using <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span> <span class="pre">column</span></code>.
In order to filter results before grouping, it is possible to use a <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">condition</span></code> clause.
To filter results after grouping, the clause to use is <code class="docutils literal notranslate"><span class="pre">HAVING</span> <span class="pre">condition</span></code>.</p>
<p>The filters may use <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> to match cells according to a pattern.
The pattern can use <code class="docutils literal notranslate"><span class="pre">_</span></code> as a wildcard for a single character and <code class="docutils literal notranslate"><span class="pre">%</span></code> as a wildcard for multiple characters.
In order to escape <code class="docutils literal notranslate"><span class="pre">_</span></code>, engines such as MSSQL use a syntax like <code class="docutils literal notranslate"><span class="pre">[_]</span></code>, but SQLite uses something else:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;prefix\_%&#39;</span><span class="w"> </span><span class="k">ESCAPE</span><span class="w"> </span><span class="s1">&#39;\&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>To print timestamps as a human-readable date, there exists a function, <code class="docutils literal notranslate"><span class="pre">DATETIME</span></code>.
For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">(</span><span class="n">users</span><span class="p">.</span><span class="n">last_update_time</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;unixepoch&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SQLite</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#basic-commands">Basic commands</a></li>
<li><a class="reference internal" href="#sql-statements">SQL statements</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mysql.html"
                        title="previous chapter">MySQL tips and tricks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../etc/index.html"
                        title="next chapter"><code class="docutils literal notranslate"><span class="pre">/etc</span></code></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/database/sqlite.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/fishilico/generic-config/blob/master/database/sqlite.rst"
           rel="nofollow">Show Source on GitHub
           <img src="../_static/GitHub-Mark-32px.png" style="width: 1.5em; border: none;" alt="" />
           </a></li>
  </ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../etc/index.html" title="/etc"
             >next</a> |</li>
        <li class="right" >
          <a href="mysql.html" title="MySQL tips and tricks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Generic Config</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Databases</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SQLite</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2023, Nicolas Iooss.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>